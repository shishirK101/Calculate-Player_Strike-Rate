<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ICC Cricket Stats Portal</title>
    
    <!-- Custom CSS with modern design elements -->
    <style>
        /* Base styling with ICC brand colors */
        :root {
            --icc-blue: #001489;
            --icc-red: #FF2E2E;
            --icc-gold: #FFD700;
        }

        /* Modern reset and base styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            min-height: 100vh;
            position: relative;
        }

        /* Animated header with waving flag effect */
        .header {
            background: var(--icc-blue);
            padding: 1.5rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::after {
            content: '';
            position: absolute;
            bottom: -20px;
            left: 0;
            width: 100%;
            height: 40px;
            background: linear-gradient(
                45deg,
                var(--icc-red) 25%,
                transparent 25%,
                transparent 50%,
                var(--icc-red) 50%,
                var(--icc-red) 75%,
                transparent 75%,
                transparent
            );
            background-size: 40px 40px;
            animation: flagWave 2s linear infinite;
        }

        @keyframes flagWave {
            0% { background-position: 0 0; }
            100% { background-position: 40px 0; }
        }

        .logo {
            max-width: 200px;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));
            transition: transform 0.3s ease;
        }

        /* Main content container with subtle animation */
        .container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 2rem;
            background: white;
            border-radius: 1rem;
            box-shadow: 0 8px 30px rgba(0,0,0,0.12);
            transform: translateY(0);
            opacity: 1;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Modern form styling */
        .control-group {
            display: grid;
            gap: 1.5rem;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            margin-bottom: 2rem;
        }

        .input-group {
            position: relative;
        }

        input, select {
            width: 100%;
            padding: 1rem;
            border: 2px solid #ddd;
            border-radius: 0.5rem;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        input:focus, select:focus {
            outline: none;
            border-color: var(--icc-blue);
            box-shadow: 0 0 0 3px rgba(0,20,137,0.1);
        }

        /* Stats card with reveal animation */
        .stats-card {
            display: none;
            grid-template-columns: 1fr 2fr;
            gap: 2rem;
            padding: 2rem;
            background: #fff;
            border-radius: 1rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            animation: cardReveal 0.6s ease-out;
        }

        @keyframes cardReveal {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .player-image {
            width: 100%;
            border-radius: 0.5rem;
            aspect-ratio: 3/4;
            object-fit: cover;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        /* Responsive design adjustments */
        @media (max-width: 768px) {
            .container {
                margin: 1rem;
                padding: 1rem;
            }
            
            .stats-card {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Header section with animated flag effect -->
    <header class="header">
        <img src="https://www.icc-cricket.com/resources/prod/v6.6.3/i/icc-logo.svg" 
             alt="ICC Logo" 
             class="logo">
    </header>

    <!-- Main content container -->
    <main class="container">
        <!-- Player identification section -->
        <div class="control-group">
            <div class="input-group">
                <input type="text" 
                       id="playerName" 
                       placeholder="Enter player name"
                       autocomplete="off">
            </div>
            <div class="input-group">
                <select id="playerRole">
                    <option value="batter">Batter</option>
                    <option value="bowler">Bowler</option>
                </select>
            </div>
        </div>

        <!-- Dynamic stats display -->
        <div id="statsDisplay" class="stats-card">
            <img src="" alt="Player Image" class="player-image" id="playerImg">
            <div class="stats-info">
                <h2 id="playerTitle"></h2>
                <p id="playerCountry"></p>
                <div id="performanceMetrics"></div>
            </div>
        </div>
    </main>

    <!-- Background music (note: autoplay may be blocked in some browsers) -->
    <audio id="bgMusic" loop>
        <source src="https://assets.mixkit.co/active_storage/sfx/3003/3003-preview.mp3" 
                type="audio/mpeg">
    </audio>

    <!-- Modern JavaScript implementation -->
    <script>
        // Player database with current and retired stars
        const players = [
            {
                name: "Virat Kohli",
                role: "batter",
                country: "India",
                flag: "ðŸ‡®ðŸ‡³",
                image: "https://www.crictracker.com/wp-content/uploads/2023/06/Virat-Kohli-2.jpg"
            },
            {
                name: "Steve Smith",
                role: "batter",
                country: "Australia",
                flag: "ðŸ‡¦ðŸ‡º",
                image: "https://img1.hscicdn.com/image/upload/f_auto,t_ds_square_w_320,q_50/lsci/db/PICTURES/CMS/319400/319499.png"
            },
            {
                name: "Jasprit Bumrah",
                role: "bowler",
                country: "India",
                flag: "ðŸ‡®ðŸ‡³",
                image: "https://www.crictracker.com/wp-content/uploads/2023/06/Jasprit-Bumrah-1.jpg"
            },
            {
                name: "Shane Warne",
                role: "bowler",
                country: "Australia",
                flag: "ðŸ‡¦ðŸ‡º",
                image: "https://c.ndtvimg.com/2022-03/6q4j7kjo_shane-warne-afp_625x300_04_March_22.jpg"
            }
        ];

        // DOM Elements
        const playerNameInput = document.getElementById('playerName');
        const playerRoleSelect = document.getElementById('playerRole');
        const statsDisplay = document.getElementById('statsDisplay');

        // Initialize background music
        const bgMusic = document.getElementById('bgMusic');
        document.addEventListener('DOMContentLoaded', () => {
            bgMusic.play().catch(error => {
                console.log('Autoplay prevented - user interaction required');
            });
        });

        // Real-time player search with debouncing
        let searchTimeout;
        playerNameInput.addEventListener('input', function() {
            clearTimeout(searchTimeout);
            searchTimeout = setTimeout(identifyPlayer, 300);
        });

        // Player identification logic
        function identifyPlayer() {
            const searchTerm = playerNameInput.value.toLowerCase();
            const selectedRole = playerRoleSelect.value;
            
            const foundPlayer = players.find(player => 
                player.name.toLowerCase().includes(searchTerm) && 
                player.role === selectedRole
            );

            if(foundPlayer) {
                displayPlayerStats(foundPlayer);
                statsDisplay.style.display = 'grid';
            } else {
                statsDisplay.style.display = 'none';
            }
        }

        // Dynamic stats display
        function displayPlayerStats(player) {
            document.getElementById('playerTitle').textContent = player.name;
            document.getElementById('playerCountry').textContent = `${player.flag} ${player.country}`;
            document.getElementById('playerImg').src = player.image;
            
            const metricsDiv = document.getElementById('performanceMetrics');
            metricsDiv.innerHTML = player.role === 'batter' ? 
                `<div class="metric-group">
                    <label>Runs Scored: <input type="number" id="runs"></label>
                    <label>Balls Faced: <input type="number" id="balls"></label>
                    <button onclick="calculateStrikeRate()">Calculate</button>
                    <p id="strikeRateResult"></p>
                </div>` :
                `<div class="metric-group">
                    <label>Runs Given: <input type="number" id="runsGiven"></label>
                    <label>Balls Bowled: <input type="number" id="ballsBowled"></label>
                    <label>Wickets Taken: <input type="number" id="wickets"></label>
                    <button onclick="calculateBowlingStats()">Calculate</button>
                    <p id="bowlingStatsResult"></p>
                </div>`;
        }

        // Performance calculations
        function calculateStrikeRate() {
            const runs = parseFloat(document.getElementById('runs').value);
            const balls = parseFloat(document.getElementById('balls').value);
            const strikeRate = ((runs / balls) * 100).toFixed(2);
            document.getElementById('strikeRateResult').textContent = 
                `Strike Rate: ${strikeRate}`;
        }

        function calculateBowlingStats() {
            const runs = parseFloat(document.getElementById('runsGiven').value);
            const balls = parseFloat(document.getElementById('ballsBowled').value);
            const wickets = parseFloat(document.getElementById('wickets').value);
            
            const economy = (runs / (balls/6)).toFixed(2);
            const bowlingSR = (balls / wickets).toFixed(2);
            const bowlingAvg = (runs / wickets).toFixed(2);
            
            document.getElementById('bowlingStatsResult').innerHTML = `
                Economy: ${economy}<br>
                Bowling Strike Rate: ${bowlingSR}<br>
                Bowling Average: ${bowlingAvg}
            `;
        }
    </script>
</body>
</html>
